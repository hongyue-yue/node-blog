webpackJsonp([1],[,,,,,,,,,,function(t,e,s){"use strict";var a=s(3),n=s(9),o=s(2),r=s.n(o);a.a.use(n.b);var i=new n.b.Store({state:{user:"",posts:[]},mutations:{SET_USER:function(t,e){t.user=e},SET_POST:function(t,e){t.posts=e}},actions:{GET_POST:function(t){var e=t.commit,s=t.state;return r.a.get("http://localhost:8090/post",{params:{name:s.user}}).then(function(t){1===t.data.state?e("SET_POST",t.data.posts):0===t.data.state&&console.log(t.data.message)}).catch(function(t){console.log(t)})},GET_USER:function(t,e){var s=t.commit;t.state;s("SET_USER",e)}}});e.a=i},,,,,,,,,,,,function(t,e,s){"use strict";var a=s(3),n=s(102),o=s(93),r=s.n(o),i=s(92),c=s.n(i),l=s(94),u=s.n(l);a.a.use(n.a),e.a=new n.a({routes:[{path:"/",component:r.a},{path:"/login",component:c.a},{path:"/reg",component:u.a}]})},function(t,e){},function(t,e){},function(t,e,s){function a(t){s(81)}var n=s(1)(s(44),s(96),a,null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(16),n=s.n(a),o=s(2),r=s.n(o),i=s(9);e.default={name:"app",computed:n()({},s.i(i.a)({user:function(t){return t.user}})),methods:{out:function(){var t=this;r.a.get("http://localhost:8090/logout").then(function(e){1===e.data.state?t.$store.dispatch("GET_USER",e.data.username).then(function(){t.$store.dispatch("GET_POST")}):0===e.data.state&&(t.err=e.data.message)}).catch(function(t){console.log(t)})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"post",props:{post:{type:Object,required:!0}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),n=s.n(a);e.default={name:"speak",data:function(){return{message:"",err:""}},methods:{post:function(){var t=this,e=this.$store.state.user,s=this.message,a=new Date;n.a.post("http://localhost:8090/post",{name:e,post:s,time:a}).then(function(e){1===e.data.state?t.$store.dispatch("GET_POST"):0===e.data.state&&(t.err=e.data.message)}).catch(function(t){console.log(t)})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"welcome",methods:{routGo:function(t){this.$router.push(t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),n=s.n(a);e.default={name:"login",data:function(){return{username:"",password:"",err:""}},methods:{login:function(){var t=this;n.a.post("http://localhost:8090/login",{name:this.username,password:this.password}).then(function(e){1===e.data.state?(t.username="",t.password="",t.$store.dispatch("GET_USER",e.data.username).then(function(){t.$store.dispatch("GET_POST"),t.$router.push("/")})):0===e.data.state&&(t.err=e.data.message)}).catch(function(t){console.log(t)})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(16),n=s.n(a),o=s(9),r=s(10),i=s(91),c=s.n(i),l=s(89),u=s.n(l),p=s(90),d=s.n(p),v=s(2);s.n(v);e.default={name:"main",computed:n()({},s.i(o.a)({user:function(t){return t.user},posts:function(t){return t.posts}})),beforeMount:function(){0==this.posts.length&&r.a.dispatch("GET_POST")},components:{welcome:c.a,post:u.a,speak:d.a},methods:{}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),n=s.n(a);e.default={name:"reg",data:function(){return{username:"",password:"",passRepeat:"",err:""}},methods:{reg:function(){var t=this;if(this.username&&this.password&&this.passRepeat)if(this.password!=this.passRepeat)this.err="密码与验证密码不一致";else{var e=this.username,s=this.password;n.a.post("http://localhost:8090/reg",{name:e,password:s}).then(function(s){1===s.data.state?(t.name="",t.password="",t.passRepeat="",t.$store.dispatch("GET_USER",e).then(function(){t.$store.dispatch("GET_POST"),t.$router.push("/")})):0===s.data.state&&(t.err=s.data.message)}).catch(function(t){console.log(t)})}else this.err="请输入帐号和密码"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(3),n=s(25),o=s.n(n),r=s(22),i=s(10),c=s(26),l=(s.n(c),s(24)),u=(s.n(l),s(23));s.n(u);a.a.config.productionTip=!1,s.i(c.sync)(i.a,r.a),new a.a({el:"#app",router:r.a,store:i.a,template:"<App/>",components:{App:o.a}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){function a(t){s(80)}var n=s(1)(s(45),s(95),a,null,null);t.exports=n.exports},function(t,e,s){function a(t){s(82)}var n=s(1)(s(46),s(97),a,null,null);t.exports=n.exports},function(t,e,s){function a(t){s(84)}var n=s(1)(s(47),s(99),a,null,null);t.exports=n.exports},function(t,e,s){function a(t){s(86)}var n=s(1)(s(48),s(101),a,null,null);t.exports=n.exports},function(t,e,s){function a(t){s(85)}var n=s(1)(s(49),s(100),a,null,null);t.exports=n.exports},function(t,e,s){function a(t){s(83)}var n=s(1)(s(50),s(98),a,null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post"},[s("h2",[s("a",[t._v(t._s(t.post.name))]),t._v("说")]),t._v(" "),s("p",[t._v(t._s(t.post.time))]),t._v(" "),s("p",[t._v(t._s(t.post.post))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"navbar navbar-default navbar-static-top"},[s("div",{staticClass:"navbar-inner"},[s("div",{staticClass:"container"},[s("ul",{staticClass:"nav nav-pills col-md-8"},[t._m(0),t._v(" "),s("li",[s("router-link",{attrs:{to:"/",exact:""}},[t._v("首页")])],1),t._v(" "),t.user?t._e():s("li",[s("router-link",{attrs:{to:"/login",exact:""}},[t._v("登录")])],1),t._v(" "),t.user?t._e():s("li",[s("router-link",{attrs:{to:"/reg",exact:""}},[t._v("注册")])],1),t._v(" "),s("li",[t.user?s("a",{on:{click:function(e){e.stopPropagation(),t.out()}}},[t._v("登出")]):t._e()])])])])]),t._v(" "),s("transition",{attrs:{"enter-active-class":"animated slideInLeft","leave-active-class":"animated slideOutRight",mode:"out-in"}},[s("keep-alive",[s("router-view")],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{staticClass:"brand"},[t._v("Blog")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"speak"},[t.err?s("p",[t._v(t._s(t.err))]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{type:"text"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),t.post()}}},[s("i",{staticClass:"icon-comment icon-white"}),t._v(" 发言")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("div",{staticClass:"form-horizontal"},[s("fieldset",[s("legend",[t._v("用户登入")]),t._v(" "),s("div",{staticClass:"form-group"},[t.err?s("p",[t._v(t._s(t.err))]):t._e(),t._v(" "),s("label",{staticClass:"col-md-2 control-label",attrs:{for:"username"}},[t._v("用户名")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-2 control-label",attrs:{for:"password"}},[t._v("口令")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password-repeat"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-2 control-label",attrs:{for:"password-repeat"}},[t._v("重复输入口令")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passRepeat,expression:"passRepeat"}],staticClass:"form-control",attrs:{type:"password",name:"password-repeat"},domProps:{value:t.passRepeat},on:{input:function(e){e.target.composing||(t.passRepeat=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-md-offset-2 col-md-10"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){e.stopPropagation(),t.reg()}}},[t._v("注册")])])])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wel"},[s("h1",[t._v("欢迎来到Blog")]),t._v(" "),s("p",[t._v("这是一个基于 Node.js 的微博系统。")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:function(e){t.routGo("/login")}}},[t._v("登录")]),t._v(" "),s("button",{staticClass:"btn btn-lg",attrs:{type:"button"},on:{click:function(e){t.routGo("/reg")}}},[t._v("注册")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s(t.user?"speak":"welcome"),t._v(" "),t._l(t.posts,function(t,e){return s("post",{key:e,attrs:{post:t}})})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("form",{staticClass:"form-horizontal"},[s("fieldset",[s("legend",[t._v("用户登入")]),t._v(" "),t.err?s("p",[t._v(t._s(t.err))]):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-2 control-label",attrs:{for:"username"}},[t._v("用户名")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-md-2 control-label",attrs:{for:"password"}},[t._v("口令")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-md-offset-2 col-md-10"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){e.stopPropagation(),t.login()}}},[t._v("登入")])])])])])])])},staticRenderFns:[]}}],[51]);
//# sourceMappingURL=app.b9f10147cef69d0cf4ab.js.map